<!-- Large Modal Target -->
<div class="modal fade bs-add-modal-lg<%=artwork.id || 0%>" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="add-form">
        <%= simple_form_for(artwork, html: {multipart: true}) do |f| %>
        <!--           <div style="text-align:center;margin-top:40px;">
            <span class="step"></span>
            <span class="step"></span>
            <span class="step"></span>
          </div> -->
          <div class="tab<%=artwork.id || 0%> tabs">
            <div class="text-center">
              <h4>Informations sur l'Oeuvre</h4>
            </div>
          <hr>
         
            <div class="row">
              <div class="col-xs-12 col-md-6">
                <%= f.input :name, label: "Titre" %>
              </div>
              <div class="col-xs-12 col-md-6">
                <%= f.association :artist, label_method: :full_name, value_method: :id %>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-12">
               <%= f.input :description, as: :text %>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-12">
                  <%= f.input :dimensions %>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-12 col-md-6">
                <%= f.input :year, label: "Année" %>
              </div>
              <div class="col-xs-12 col-md-6">
                <%= f.input :price, label: "Prix" %>
              </div>
            </div>
         
            
            
          <hr>
          <input type="hidden" name= "gallery_id" value="<%=gallery.id%>">
        </div>
        <div class="tab<%=artwork.id || 0%> tabs">
          <div class="text-center">
            <h4>Ajouter des Photos</h4>
          </div>
          <br>
          <h6><strong>Photos de l'Oeuvre</strong></h6>
              <% artwork.art_photos.each do |photo| %>
                <%= cl_image_tag(photo.photo.url(:cards), width: 100, height: 100, class: "form-image") %>
              <% end %>
            <%= f.simple_fields_for :artwork do |p| %>
              <%= p.file_field :art_photo, :multiple => true, name: "art_photos[photo][]" %>
            <% end %>
           <% 5.times do %>
            <br> 
           <% end %>
        </div>
        <div class="tab<%=artwork.id || 0%> tabs">
          <div class="text-center">
            <h4>Choisir les Catégories</h4>
          </div>
            <div id="categories">
              <fieldset class="form-group">
                  <input type="hidden" name="artwork[category_ids][]" value="">

                    <% Category.all.where(parent_id: nil).each do |parent| %>
                      <h5><%= parent.name %></h5>
                      <div class="parent-category">
                        <div class="category-choices">
                          <% parent.subcategories.each do |category| %>

                            <% if artwork.categories.ids.include? category.id %>
                               <input class="form-check-input hidden" type="checkbox" value="<%=category.id%>" name="artwork[category_ids][]" id="artwork_category_ids_<%=artwork.id%>_<%=category.id%>" checked="true" >
                            <% else %>
                             <input class="form-check-input hidden" type="checkbox" value="<%=category.id%>" name="artwork[category_ids][]" id="artwork_category_ids_<%=artwork.id%>_<%=category.id%>"  >
                            <% end %>  
                              <label class="category-choice" for="artwork_category_ids_<%=artwork.id%>_<%=category.id%>"><%= category.name %></label>
                          <% end %>
                        </div>
                      </div>
                    <% end %>
              </fieldset>
            </div>
          <hr>

            <div class="text-center">
              <div class="submit-artwork">
                <% if artwork.id.nil? %>
                  <%= f.button :submit, class: 'btn btn-create', value: "Ajouter une Oeuvre d'Art" %>
                <% else %>
                  <%= f.button :submit, class: 'btn btn-create', value: "Modifier l'oeuvre #{artwork.name}" %>
                <% end %>
              </div>
            </div>
            <br>
          </div>

          <div class="prev-nex-button" data-value="<%=artwork.id|| 0%>">
              <button type="button" id="prevBtn<%=artwork.id || 0%>" class = "btn btn-primary" onclick="nextPrev(-1,this.parentElement.dataset.value)">Precedent</button>
              <button type="button" id="nextBtn<%=artwork.id || 0%>" class = "btn btn-primary" onclick="nextPrev(1, this.parentElement.dataset.value)">Suivant</button>
          </div>


        <% end %>
      </div>
    </div>
  </div>
</div>
